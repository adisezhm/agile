<html>
   <head>
      <title>Agile</title>

      <script src = "angular-1.3.14/angular.min.js"> </script>
      <script src = "angular-1.3.14/angular-route.min.js"> </script>
<!--  With the below, this .html, does not seem to work
      <script src = "angular-1.7.5/angular.min.js"> </script>
      <script src = "angular-1.7.5/angular-route.min.js"> </script>
-->
      
      <!-- 1. Agile application style -->
      <style>
         table tr:nth-child(odd) {
            background-color: #f2f2f2;
            background-color: lightgrey;
         }
         table tr:nth-child(even) {
            background-color: white;
         }
         table, th, td {
            border: 1px solid orange;
            border-collapse: collapse;
            padding: 2px;
         }
      </style>
   </head>
   
   <body>
      <h2>Agile Application</h2>
      <div ng-app = "agileApp">
         <li><a href = "#listAllProjects">All Projects</a></li>
         <li></li>
         <li><a href = "#listOneProject">One Project</a></li>
         <div ng-view></div>

         <!-- allProjects HTML page, can be separate file too -->
         <script type = "text/ng-template" id = "allProjects.htm">
            <h2> All Projects </h2>

            <table border = "0">
                <!-- 1a. project rows -->
                <tr> <th>Project ID</th>  <th>Project Name</th> <th>Project Status</th>  </tr>
                <tr ng-repeat = "p in projects">
                    <td align=center> {{ p.pid     }} </td>
                    <td align=left>   {{ p.pName   }} </td>
                    <td align=left contenteditable>   {{ p.pStatus }} </td>
                </tr>
            </table>
         </script>
         
         <!-- oneProject HTML page, can be separate file too -->
         <script type = "text/ng-template" id = "oneProject.htm">
            <h2> {{project.name}} Project </h2>

            <table border = "0">
                <!-- 1a. sprint rows -->
                <tr> <th>Sprint ID</th>  <th>Sprint Name</th> <th>Sprint Status</th>  </tr>
                <tr ng-repeat = "sprint in project.sprints">
                    <td align=center> {{ sprint.sid     }} </td>
                    <td align=left>   {{ sprint.sName   }} </td>
                    <td align=left contenteditable>   {{ sprint.sStatus }} </td>
                 </tr>
             </table>
         </script>

      </div>
      
      <script>
         var agileApp = angular.module("agileApp", ['ngRoute']);

         agileApp.config(['$routeProvider', function($routeProvider) {
            $routeProvider

            .when('/listAllProjects', {
               templateUrl: 'allProjects.htm',
               controller: 'allProjectsController'
            })
            .when('/listOneProject', {
               templateUrl: 'oneProject.htm',
               controller: 'oneProjectController'
            })
         }]);

         agileApp.controller('allProjectsController', function($scope) {
            $scope.projects = [
                  {pid:10, pStatus:'active',    pName:'p4-a123456789012345'},
                  {pid:20, pStatus:'backlog',   pName:'p3'},
                  {pid:30, pStatus:'backlog',   pName:'p2'},
                  {pid:40, pStatus:'completed', pName:'p1'},
               ];
         });

         agileApp.controller('oneProjectController', function($scope) {
            $scope.project = {
               name: "k4",
               sprints:[
                  {sid:10, sStatus:'active', sName:'A-a123456789012345'},
                  {sid:20, sStatus:'active', sName:'B'},
                  {sid:30, sStatus:'active', sName:'C'},
                  {sid:40, sStatus:'active', sName:'d'},
               ]
            };
         });
      </script>
      
   </body>
</html>
